<html lang="en">
{% include "head_include.html" %}
<body>
<nav class="red lighten-1">
    <div class="nav-wrapper">
        <a href="#" class="brand-logo center">Edit Order</a>
    </div>
</nav>
<div class="section">
    <form class="col s12" action="/order_update" method="post">
        <input value="{{order_data.order_id}}" name="order-id" type="hidden">

        <div class="row">
            <div class="input-field col s12">
                <select name="bike-id">

                    <option selected value="{{bike_data.id}}">
                        {{bike_data.name}} || {{bike_data.plates}} || {{bike_data.l_name}}
                    </option>

                    {% for b in bikes %}
                    <option value="{{b.id}}">
                        {{b.name}} || {{b.plates}} || {{b.l_name}}
                    </option>
                    {% endfor %}

                </select>
            </div>
            <input value="{{bike_data.l_id}}" name="bike-location-id" type="hidden">
            <input value="{{bike_data.mileage}}" name="bike-mileage" type="hidden">
        </div>

        <!--todo: <feature> assign d-off pp id-->
        <!--todo: <feature> assign p-up pp id-->

        <div class="row">
            <div class="input-field col s12">
                <select name="customer-id">
                    <option value="{{order_data.cus_id}}" selected>
                        {{order_data.cus_f_name}} {{order_data.cus_l_name}} || {{order_data.cus_email}}
                    </option>
                    {% for c in customers %}
                    <option value="{{c.id}}">{{c.f_name}} {{c.l_name}} || {{c.email}} || {{c.loc_name}}</option>
                    {% endfor %}
                </select>
            </div>
        </div>

        <div class="row">
            <div class="col s6">
                Start:
                <div class="input-field inline">
                    <input type="text" id="start-picker" name="start-date"
                           placeholder="enter start date" class="datepicker validate"
                           value="{{order_data.o_start}}"
                           required>
                </div>
            </div>

            <div class="col s6">
                End:
                <div class="input-field inline">
                    <input type="text" id="end-picker" name="end-date"
                           placeholder="enter end date" class="datepicker validate"
                           value="{{order_data.o_end}}"
                           required>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="input-field col s6 center-align">
                <select class="inline" name="start-location-id">
                    <option value="{{order_data.loc_s_id}}" selected>{{order_data.loc_s_name}}</option>
                    {% for l in locations %}
                    <option value="{{l.loc_id}}">{{l.loc_name}}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="input-field col s6 center-align">
                <select class="inline" name="end-location-id">
                    <option value="{{order_data.loc_e_id}}" selected>{{order_data.loc_e_name}}</option>
                    {% for l in locations %}
                    <option value="{{l.loc_id}}">{{l.loc_name}}</option>
                    {% endfor %}
                </select>
            </div>
        </div>

        <div class="row">
            <div class="input-field col s4">
                <input id="total-amount"
                       type="number"
                       class="validate"
                       name="t-amount"
                       value="{{order_data.o_amount}}"
                       required>
                <label for="total-amount">Total Amount</label>
            </div>
            <div class="input-field col s2">
                <select name="amount-cur-code">
                    <option value="{{order_data.o_a_currency}}" selected>
                        {{order_data.o_a_currency}}
                    </option>
                    {% for c in currencies %}
                    <option value="{{c.cur_code}}">{{c.cur_code}}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="input-field col s4">
                <input id="deposit-amount" type="number"
                       class="validate" name="d-amount"
                       value="{{order_data.o_deposit}}"
                       required>
                <label for="deposit-amount">Deposit Amount</label>
            </div>
            <div class="input-field col s2">
                <select name="deposit-cur-code">
                    <option value="{{order_data.o_d_currency}}" selected>
                        {{order_data.o_d_currency}}
                    </option>
                    {% for c in currencies %}
                    <option value="{{c.cur_code}}">{{c.cur_code}}</option>
                    {% endfor %}
                </select>
            </div>
        </div>

        <div class="row">
            <div class="input-field col s12">
                <input value="{{order_data.o_notes}}" id="notes" type="text" name="notes">
                <label for="notes">Notes</label>
            </div>
        </div>

        <div class="row">
            <div class="input-field col s12">
                <select name="order-status">
                    <option value="{{order_data.order_status}}" selected>
                        {{order_data.order_status}}
                    </option>
                    {% for s in statuses %}
                    <option value="{{s.status_code}}">{{s.status_code}}</option>
                    {% endfor %}
                </select>
            </div>
        </div>
        <button type="submit">Submit Order</button>
    </form>
</div>
</body>
</html>
